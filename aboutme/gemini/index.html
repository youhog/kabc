<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼è‡ªæˆ‘ä»‹ç´¹ - æ‚¨çš„æ•¸ä½éŠæ¨‚å ´</title>
    
    <!-- å¼•å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- å¼•å…¥ Inter å­—é«” -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    </style>
    
    <!-- Tailwind é…ç½®ï¼ŒåŒ…å«è‡ªå®šç¾©é¡è‰²å’Œå‹•ç•« -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // æ‚¨çš„é…è‰²æ–¹æ¡ˆ
                        'cta': '#D68A7A',        // D68A7A æ©˜ç²‰/ä¸»è¦è¡Œå‹•å‘¼ç±²
                        'secondary-bg': '#E7BE8E', // E7BE8E ç±³é»ƒ/è¼”åŠ©å€å¡ŠèƒŒæ™¯
                        'bg-main': '#DAD6C6',    // DAD6C6 æ·ºç°/ä¸»èƒŒæ™¯
                        'accent': '#BFA8E1',     // BFA8E1 æ·ºç´«/å¼·èª¿è£é£¾
                        // æ–‡å­—é¡è‰²å„ªåŒ–ï¼šé¸ç”¨æ›´æ·±çš„é’ç¶ è‰²ï¼Œç¢ºä¿å°æ¯”åº¦ (åŸè‰²: #64979C)
                        'text-main': '#4B7478',  
                    },
                    keyframes: {
                        pulse_h1: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.03)' },
                        },
                        float_shape: {
                            '0%, 100%': { transform: 'translate(0, 0) rotate(0deg)' },
                            '50%': { transform: 'translate(15px, 20px) rotate(5deg)' },
                        },
                        // æ–°å¢ï¼šç”¨æ–¼æŒ‰éˆ•æŒ‰ä¸‹æ•ˆæœ
                        press: {
                            '0%, 100%': { transform: 'translateY(0)', boxShadow: '0 12px 0 var(--tw-shadow-color)' },
                            '50%': { transform: 'translateY(2px)', boxShadow: '0 8px 0 var(--tw-shadow-color)' },
                        }
                    },
                    animation: {
                        'pulse-h1': 'pulse_h1 1.5s infinite alternate',
                        'float-shape-18': 'float_shape 18s infinite ease-in-out alternate',
                        'float-shape-20': 'float_shape 20s infinite ease-in-out alternate',
                        'float-shape-25': 'float_shape 25s infinite ease-in-out alternate',
                        'press-cta': 'press 0.2s ease-in-out',
                    },
                }
            }
        }
    </script>

    <style>
        /* åŸºç¤æ¨£å¼é‡ç½® (Tailwind ä¸åŒ…å«çš„éƒ¨åˆ†) */
        * {
            cursor: none;
            /* è¨­ç½®åŸºç¤éæ¸¡ï¼Œç¢ºä¿å¹³æ»‘å‹•ç•«ã€‚ */
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* 2. è‡ªå®šç¾©æ¸¸æ¨™ (Custom Cursor) - ä¿æŒ custom CSS å¯¦ç¾ fixed å®šä½å’Œåœ“å½¢ */
        .cursor-dot, .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            border-radius: 50%;
            z-index: 9999;
            transform: translate(-50%, -50%); 
        }

        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #D68A7A; /* ä½¿ç”¨ cta é¡è‰² */
        }

        .cursor-outline {
            width: 30px;
            height: 30px;
            border: 2px solid #BFA8E1; /* ä½¿ç”¨ accent é¡è‰² */
            opacity: 0.6;
            transition: width 0.3s, height 0.3s, background-color 0.3s, opacity 0.3s;
        }

        /* äº’å‹•å…ƒç´ æ‡¸åœæ™‚çš„æ¸¸æ¨™æ”¾å¤§æ•ˆæœ (å¼·åŒ–åé¥‹) */
        .interactive:hover ~ .cursor-outline {
            width: 50px; 
            height: 50px;
            background-color: #D68A7A; /* ä½¿ç”¨ CTA è‰²è®“åé¥‹æ›´å¼·çƒˆ */
            opacity: 0.2;
        }

        /* 4. è£é£¾æ€§èƒŒæ™¯å…ƒç´  (Decorative Background Elements) */
        .decorative-shape {
            position: fixed;
            z-index: -1; 
            opacity: 0.5;
            border-radius: 50%;
            filter: blur(50px); 
        }

        /* é€²å…¥å‹•ç•« CSS (Entrance Animation CSS) */
        .animate-item {
            opacity: 0;
            transform: translateY(30px);
            /* èª¿æ•´éæ¸¡å‡½æ•¸ç‚º cubic-bezierï¼Œè®“é€²å…¥å‹•ç•«æ›´æŸ”å’Œ */
            transition: opacity 1.2s cubic-bezier(0.19, 1, 0.22, 1), transform 1.2s cubic-bezier(0.19, 1, 0.22, 1); 
        }

        /* è¨­ç½®å‹•ç•«éŒ¯é–‹ (Staggering) - é€é transition-delay å¯¦ç¾ */
        .animate-item.delay-1 { transition-delay: 0.1s; }
        .animate-item.delay-2 { transition-delay: 0.3s; }
        .animate-item.delay-3 { transition-delay: 0.5s; }
        .animate-item.delay-4 { transition-delay: 0.7s; }
        .animate-item.delay-5 { transition-delay: 0.9s; }

        /* ç•¶å€å¡Šå¯è¦‹æ™‚ï¼Œæ‡‰ç”¨å‹•ç•«æœ€çµ‚ç‹€æ…‹ */
        .section-visible .animate-item {
            opacity: 1;
            transform: translateY(0);
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆï¼šæ‰‹æ©Ÿä¸Šéš±è—è‡ªå®šç¾©æ¸¸æ¨™å’Œè£é£¾å…ƒç´  */
        @media (max-width: 768px) {
            .cursor-dot, .cursor-outline, .decorative-shape {
                display: none;
            }
            body {
                cursor: auto; 
            }
            /* æ‰‹æ©Ÿç‰ˆå°èˆªæ¬„ - åº•éƒ¨å›ºå®š */
            .navbar {
                top: auto;
                bottom: 0;
                border-radius: 2rem 2rem 0 0;
            }
        }
    </style>
</head>
<body class="bg-bg-main text-text-main font-sans text-xl leading-relaxed">

    <!-- è‡ªå®šç¾©æ¸¸æ¨™å…ƒç´  -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- è£é£¾æ€§èƒŒæ™¯å…ƒç´  - ä½¿ç”¨ Tailwind utility class æ‡‰ç”¨é¡è‰²å’Œè‡ªå®šç¾©å‹•ç•« -->
    <div class="decorative-shape bg-accent w-[300px] h-[300px] top-[15vh] -left-24 animation-float-shape-18 animate-float-shape-18" style="animation-delay: -2s;"></div>
    <div class="decorative-shape bg-secondary-bg w-[150px] h-[150px] bottom-[5vh] right-12 animation-float-shape-20 animate-float-shape-20"></div>
    <div class="decorative-shape bg-cta w-[400px] h-[400px] top-[50vh] -right-48 opacity-20 animation-float-shape-25 animate-float-shape-25" style="animation-delay: -5s;"></div>

    <!-- å°èˆªæ¬„ - ç¾ä»£åŒ–è¨­è¨ˆï¼šåº•éƒ¨åœ“è§’æµ®å‹• (é©ç”¨æ–¼ç§»å‹•ç«¯)ï¼Œæ¡Œé¢ç«¯å±…ä¸­ä¸Šæ–¹ -->
    <nav class="navbar fixed top-0 left-0 w-full flex justify-center py-4 bg-bg-main/90 backdrop-blur-md z-50 shadow-2xl md:top-0 md:bottom-auto">
        <a href="#home" class="nav-link active interactive text-text-main hover:text-white hover:bg-text-main hover:shadow-[0_4px_0_theme(colors.cta)] hover:-translate-y-0.5 relative px-4 py-2 font-medium rounded-full transition-all duration-300" data-section="home">ğŸ  é¦–é </a>
        <a href="#about" class="nav-link interactive text-text-main hover:text-white hover:bg-text-main hover:shadow-[0_4px_0_theme(colors.cta)] hover:-translate-y-0.5 relative px-4 py-2 font-medium rounded-full transition-all duration-300" data-section="about">ğŸ™‹ é—œæ–¼æˆ‘</a>
        <a href="#portfolio" class="nav-link interactive text-text-main hover:text-white hover:bg-text-main hover:shadow-[0_4px_0_theme(colors.cta)] hover:-translate-y-0.5 relative px-4 py-2 font-medium rounded-full transition-all duration-300" data-section="portfolio">ğŸ’¼ ä½œå“é›†</a>
        <a href="#contact" class="nav-link interactive text-text-main hover:text-white hover:bg-text-main hover:shadow-[0_4px_0_theme(colors.cta)] hover:-translate-y-0.5 relative px-4 py-2 font-medium rounded-full transition-all duration-300" data-section="contact">ğŸ“¬ è¯ç¹«æˆ‘</a>
    </nav>

    <!-- 1. é¦–é  (Home) - å¢å¼·èƒŒæ™¯æŸ”å’Œç´‹ç† -->
    <section id="home" class="min-h-screen pt-32 pb-12 flex flex-col justify-center items-center text-center relative overflow-hidden bg-bg-main px-4 
        bg-[radial-gradient(ellipse_at_top,_var(--tw-color-secondary-bg)_20%,_var(--tw-color-bg-main)_80%)]">
        <h1 class="animate-item delay-1 text-cta font-extrabold text-[clamp(2.5rem,6vw,4.5rem)] leading-tight mb-5 
            shadow-[12px_12px_0_theme(colors.accent)] animate-pulse-h1 transition-all duration-500">Hello, æˆ‘æ˜¯ [æ‚¨çš„åå­—]</h1>
        <p class="animate-item delay-2 max-w-3xl text-lg lg:text-xl">ä¸€ä½ç†±æ„›å‰µé€ ã€è¿½æ±‚å®Œç¾åƒç´ çš„æ•¸ä½å·¥åŒ ã€‚æ­¡è¿ä¾†åˆ°æˆ‘çš„å€‹äººç¶²ç«™ï¼Œä¸€å€‹çµåˆäº†æŸ”å’Œè‰²å½©èˆ‡ç¾ä»£äº’å‹•è¨­è¨ˆçš„ç©ºé–“ã€‚</p>
        <!-- CTA é™°å½±å’Œå½ˆè·³æ•ˆæœå¢å¼· -->
        <a href="#about" class="cta-button animate-item delay-3 interactive inline-block px-8 py-3 bg-cta text-white font-bold rounded-full mt-10 text-xl border-2 border-cta 
            shadow-[0_12px_0_theme(colors.text-main)] hover:shadow-[0_6px_0_theme(colors.text-main)] hover:translate-y-1 active:translate-y-2 transition-all duration-300">é–‹å§‹æ¢ç´¢ (é»æ“Šæˆ‘!)</a>
    </section>

    <!-- 2. é—œæ–¼æˆ‘ (About Me) - å¢å¼·èƒŒæ™¯æ–œç·šç´‹ç† -->
    <section id="about" class="min-h-screen pt-32 pb-12 flex flex-col justify-center items-center text-center relative overflow-hidden bg-secondary-bg px-4
        bg-[repeating-linear-gradient(45deg,_var(--tw-color-secondary-bg),_var(--tw-color-secondary-bg)_10px,_rgba(255,255,255,0.2)_10px,_rgba(255,255,255,0.2)_20px)]">
        <h2 class="animate-item delay-1 text-text-main font-extrabold text-[clamp(1.8rem,4vw,3rem)] mb-5">æˆ‘çš„æ•…äº‹èˆ‡æ ¸å¿ƒåƒ¹å€¼</h2>
        <p class="animate-item delay-2 max-w-3xl text-lg lg:text-xl">æˆ‘èªç‚ºè¨­è¨ˆä¸åƒ…æ˜¯ç¾å­¸ï¼Œæ›´æ˜¯è§£æ±ºå•é¡Œã€‚é€éå‰ç«¯æŠ€è¡“ï¼Œæˆ‘å°‡æŠ½è±¡çš„é»å­è½‰åŒ–ç‚ºå…·é«”ã€æµæš¢ã€æ„‰æ‚…çš„ç”¨æˆ¶é«”é©—ã€‚</p>
        
        <div class="card-container flex flex-wrap justify-center gap-8 mt-12">
            <!-- å¡ç‰‡è¨­è¨ˆå‡ç´šï¼šæŸ”å’Œé™°å½± -->
            <div class="card animate-item delay-3 interactive w-[clamp(250px,40vw,320px)] bg-white p-6 rounded-3xl 
                shadow-[0_10px_20px_rgba(0,0,0,0.1),_0_0_0_1px_rgba(255,255,255,0.6)_inset] hover:scale-105 hover:shadow-xl hover:shadow-cta/30 hover:rotate-1">
                <h3 class="text-text-main font-bold mb-2">ç†±æƒ…æ‰€åœ¨ (Passion)</h3>
                <p class="text-base text-text-main/80">å°ˆæ³¨æ–¼äº’å‹•è¨­è¨ˆå’Œæµæš¢çš„ç”¨æˆ¶ä»‹é¢ (UI/UX)ã€‚</p>
            </div>
            <div class="card animate-item delay-4 interactive w-[clamp(250px,40vw,320px)] bg-white p-6 rounded-3xl 
                shadow-[0_10px_20px_rgba(0,0,0,0.1),_0_0_0_1px_rgba(255,255,255,0.6)_inset] hover:scale-105 hover:shadow-xl hover:shadow-cta/30 hover:-rotate-1">
                <h3 class="text-text-main font-bold mb-2">æŠ€èƒ½æ¨¹ (Skills)</h3>
                <p class="text-base text-text-main/80">HTML/CSS (100%), JavaScript/React (90%), å‹•ç•«è¨­è¨ˆ (80%)ã€‚</p>
            </div>
            <div class="card animate-item delay-5 interactive w-[clamp(250px,40vw,320px)] bg-white p-6 rounded-3xl 
                shadow-[0_10px_20px_rgba(0,0,0,0.1),_0_0_0_1px_rgba(255,255,255,0.6)_inset] hover:scale-105 hover:shadow-xl hover:shadow-cta/30 hover:rotate-1">
                <h3 class="text-text-main font-bold mb-2">æˆ‘çš„ç›®æ¨™ (Goal)</h3>
                <p class="text-base text-text-main/80">å‰µé€ å‡ºè®“äººä¸€è¦‹é›£å¿˜ã€ä¸”ä½¿ç”¨èµ·ä¾†è¼•é¬†èˆ’é©çš„ç¶²é ç”¢å“ã€‚</p>
            </div>
        </div>
    </section>

    <!-- 3. ä½œå“é›† (Portfolio) -->
    <section id="portfolio" class="min-h-screen pt-32 pb-12 flex flex-col justify-center items-center text-center relative overflow-hidden bg-bg-main px-4">
        <h2 class="animate-item delay-1 text-text-main font-extrabold text-[clamp(1.8rem,4vw,3rem)] mb-5">ç²¾é¸å°ˆæ¡ˆå±•ç¤º</h2>
        <p class="animate-item delay-2 max-w-3xl text-lg lg:text-xl">ä»¥ä¸‹æ˜¯æˆ‘å°æ‚¨çš„é…è‰²æ–¹æ¡ˆå’Œç¾ä»£é¢¨æ ¼çš„å¯¦è¸ç¯„ä¾‹ã€‚æ¯å€‹å¡ç‰‡éƒ½ä»£è¡¨ä¸€å€‹å‰µæ„å’ŒæŠ€è¡“çš„çµåˆã€‚</p>
        
        <div class="card-container flex flex-wrap justify-center gap-8 mt-12">
            <!-- å¡ç‰‡è¨­è¨ˆå‡ç´šï¼šæŸ”å’Œé™°å½± -->
            <div class="project-card card animate-item delay-3 interactive w-[clamp(250px,40vw,320px)] bg-white p-6 rounded-3xl 
                shadow-[0_10px_20px_rgba(0,0,0,0.1),_0_0_0_1px_rgba(255,255,255,0.6)_inset] hover:scale-105 hover:shadow-xl hover:shadow-accent/30 hover:rotate-1">
                <h3 class="text-text-main font-bold mb-2">å°ˆæ¡ˆ Aï¼šè‰²å½©ç®¡ç†å·¥å…·</h3>
                <p class="project-description text-base text-text-main/80">æ‡‰ç”¨ç¾ä»£è‰²å½©å­¸ã€éŸ¿æ‡‰å¼æ’ç‰ˆå’ŒæŸ”å’Œé…è‰²ï¼Œå‰µé€ è¦–è¦ºèˆ’é©çš„é«”é©—ã€‚</p>
                <div class="mt-4">
                    <!-- LLM åŠŸèƒ½æŒ‰éˆ• -->
                    <button id="polish-button-1" data-project="è‰²å½©ç®¡ç†å·¥å…·" data-details="æ‡‰ç”¨ç¾ä»£è‰²å½©å­¸ã€éŸ¿æ‡‰å¼æ’ç‰ˆå’ŒæŸ”å’Œé…è‰²ï¼Œå‰µé€ è¦–è¦ºèˆ’é©çš„é«”é©—ã€‚"
                        class="polish-button interactive text-xs font-semibold px-4 py-2 rounded-full border border-cta text-cta hover:bg-cta hover:text-white transition-all duration-300">
                        âœ¨ æ½¤é£¾æè¿°
                    </button>
                    <!-- è¼‰å…¥æŒ‡ç¤ºå™¨ -->
                    <div id="loading-spinner-1" class="hidden mt-2 text-sm text-cta">... AI æ­£åœ¨æ½¤é£¾ä¸­</div>
                </div>
            </div>
            
            <div class="project-card card animate-item delay-4 interactive w-[clamp(250px,40vw,320px)] bg-white p-6 rounded-3xl 
                shadow-[0_10px_20px_rgba(0,0,0,0.1),_0_0_0_1px_rgba(255,255,255,0.6)_inset] hover:scale-105 hover:shadow-xl hover:shadow-accent/30 hover:-rotate-1">
                <h3 class="text-text-main font-bold mb-2">å°ˆæ¡ˆ Bï¼šå‹•ç•«æ•…äº‹ç¶²é </h3>
                <p class="text-base text-text-main/80">åˆ©ç”¨æµæš¢çš„å‹•ç•«å’Œè¦–è¦ºè¡æ“ŠåŠ›ï¼Œçªå‡ºä¸»é¡Œã€‚</p>
            </div>
        </div>
        
        <!-- CTA é™°å½±å’Œå½ˆè·³æ•ˆæœå¢å¼· -->
        <a href="#" class="cta-button animate-item delay-5 interactive inline-block px-8 py-3 bg-accent border-accent text-white font-bold rounded-full mt-10 text-xl 
            shadow-[0_12px_0_theme(colors.text-main)] hover:shadow-[0_6px_0_theme(colors.text-main)] hover:translate-y-1 active:translate-y-2 transition-all duration-300">æŸ¥çœ‹æ›´å¤šä½œå“</a>
    </section>

    <!-- 4. è¯ç¹«æˆ‘ (Contact) -->
    <section id="contact" class="min-h-screen pt-32 pb-12 flex flex-col justify-center items-center text-center relative overflow-hidden bg-accent text-white px-4">
        <h2 class="animate-item delay-1 text-white font-extrabold text-[clamp(1.8rem,4vw,3rem)] mb-5">æœŸå¾…èˆ‡æ‚¨äº¤æµï¼</h2>
        <p class="animate-item delay-2 max-w-3xl text-lg lg:text-xl text-white/90">ç„¡è«–æ˜¯å·¥ä½œé‚€ç´„ã€åˆä½œæ©Ÿæœƒï¼Œæˆ–æ˜¯å–®ç´”çš„æŠ€è¡“äº¤æµï¼Œè«‹éš¨æ™‚è¯ç¹«æˆ‘ã€‚</p>
        
        <!-- è¯ç¹«æŒ‰éˆ• (å„ªåŒ–å°æ¯”åº¦ & å½ˆè·³æ•ˆæœå¢å¼·) -->
        <a href="mailto:your.email@example.com" class="cta-button animate-item delay-3 interactive text-white bg-transparent border-white font-bold rounded-full text-xl 
            shadow-[0_12px_0_rgba(255,255,255,0.4)] hover:shadow-[0_6px_0_rgba(255,255,255,0.4)] hover:translate-y-1 active:translate-y-2 transition-all duration-300">ç™¼é€éƒµä»¶</a>
    </section>

    <script>
        // -----------------------------------------------------
        // JavaScript å¢å¼·èˆ‡äº’å‹•é‚è¼¯
        // -----------------------------------------------------

        // å¼•å…¥ Firebase Config ç¢ºä¿ LLM API å¯ä»¥æ­£ç¢ºé‹ä½œ
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const apiKey = firebaseConfig.geminiApiKey || "";

        /**
         * LLM API Call: å°ˆæ¡ˆæè¿°æ½¤é£¾
         */
        async function polishDescription(project, details, targetElement, loadingElement) {
            loadingElement.classList.remove('hidden');
            targetElement.innerHTML = `<span class="italic text-text-main/60">... AI æ­£åœ¨ç‚º ${project} æ’°å¯«ç²¾å½©æ–‡æ¡ˆ ...</span>`;

            const systemPrompt = "ä½ æ˜¯ä¸€ä½é ‚å°–çš„è¡ŒéŠ·æ–‡æ¡ˆå°ˆå®¶ï¼Œå°ˆé–€ç‚ºæ•¸ä½ç”¢å“æ’°å¯«ç°¡æ½”ä¸”å¼•äººæ³¨ç›®çš„æè¿°ã€‚è«‹æ ¹æ“šæä¾›çš„å°ˆæ¡ˆåç¨±å’Œç´°ç¯€ï¼Œä»¥ç¹é«”ä¸­æ–‡ç”Ÿæˆä¸€æ®µ 2-3 å¥çš„ç²¾ç…‰æè¿°ï¼Œçªå‡ºå…¶åƒ¹å€¼å’Œå„ªå‹¢ã€‚æè¿°å…§å®¹å¿…é ˆæ´»æ½‘ä¸”ç¾ä»£ã€‚";
            const userQuery = `å°ˆæ¡ˆåç¨±: ${project}ã€‚ç´°ç¯€: ${details}ã€‚è«‹ç‚ºé€™å€‹å°ˆæ¡ˆæ’°å¯«ä¸€æ®µå¯Œæœ‰é­…åŠ›çš„ä»‹ç´¹ã€‚`;
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                // æ¸›å°‘ç”Ÿæˆé•·åº¦ï¼Œç¢ºä¿ç°¡æ½”
                config: { maxOutputTokens: 200 } 
            };

            const maxRetries = 5;
            let currentRetry = 0;

            while (currentRetry < maxRetries) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API response status: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "æŠ±æ­‰ï¼ŒAI æš«æ™‚ç„¡æ³•ç”Ÿæˆæè¿°ã€‚";
                    
                    targetElement.innerHTML = text; // æ›¿æ›ç‚ºæ½¤é£¾å¾Œçš„å…§å®¹
                    loadingElement.classList.add('hidden');
                    return; // æˆåŠŸå¾Œé€€å‡ºå¾ªç’°

                } catch (error) {
                    console.error("Gemini API Error:", error);
                    currentRetry++;
                    if (currentRetry < maxRetries) {
                        const delay = Math.pow(2, currentRetry) * 1000; // æŒ‡æ•¸é€€é¿
                        await new Promise(resolve => setTimeout(resolve, delay));
                    } else {
                        targetElement.innerHTML = "ğŸ˜­ é€£æ¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚";
                        loadingElement.classList.add('hidden');
                        return; // é”åˆ°æœ€å¤§é‡è©¦æ¬¡æ•¸å¾Œé€€å‡º
                    }
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            
            // --- 1. è‡ªå®šç¾©æ¸¸æ¨™é‚è¼¯ (Custom Cursor Logic) ---
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorOutline = document.querySelector('.cursor-outline');
            
            window.addEventListener('mousemove', (e) => {
                // æ›´æ–°æ¸¸æ¨™é»çš„ä½ç½® (ç«‹å³)
                cursorDot.style.left = `${e.clientX}px`;
                cursorDot.style.top = `${e.clientY}px`;
                
                // æ›´æ–°æ¸¸æ¨™å¤–æ¡†çš„ä½ç½® (æ¨¡æ“¬å¾®å°å»¶é²ï¼Œå¯¦ç¾è¿½è¹¤æ„Ÿ)
                setTimeout(() => {
                    cursorOutline.style.left = `${e.clientX}px`;
                    cursorOutline.style.top = `${e.clientY}px`;
                }, 15); 
            });


            // --- 2. å…§éƒ¨é€£çµå¹³æ»‘æ»¾å‹• (Smooth Scroll) ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 60, // æ¸›å»å°èˆªæ¬„é«˜åº¦
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // --- 3. å°èˆªæ¬„ä¸»å‹•ç‹€æ…‹è¿½è¹¤ & é€²å…¥å‹•ç•« (Active Nav State & Entrance Animation) ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');
            
            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -20% 0px', 
                threshold: 0 
            };

            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    const currentSectionId = entry.target.id;
                    
                    if (entry.isIntersecting) {
                        // 1. è§¸ç™¼é€²å…¥å‹•ç•«
                        entry.target.classList.add('section-visible');

                        // 2. æ›´æ–°å°èˆªæ¬„ä¸»å‹•ç‹€æ…‹
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                        });
                        
                        // æ‰¾åˆ°ç•¶å‰å€å¡Šå°æ‡‰çš„å°èˆªé€£çµï¼Œä¸¦æ·»åŠ  active é¡
                        const activeLink = document.querySelector(`.nav-link[data-section="${currentSectionId}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }

                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });
            
            // --- 4. LLM æ½¤é£¾æŒ‰éˆ•äº‹ä»¶ç›£è½ ---
            document.querySelectorAll('.polish-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    const project = button.getAttribute('data-project');
                    const details = button.getAttribute('data-details');
                    
                    // æ‰¾åˆ°æè¿°å…ƒç´ å’Œè¼‰å…¥æŒ‡ç¤ºå™¨
                    const card = button.closest('.project-card');
                    const descriptionElement = card.querySelector('.project-description');
                    const loadingSpinner = card.querySelector(`#loading-spinner-${button.id.split('-').pop()}`);
                    
                    if (descriptionElement) {
                        polishDescription(project, details, descriptionElement, loadingSpinner);
                    }
                });
            });
            
        });
    </script>
</body>
</html>
